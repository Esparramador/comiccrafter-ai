<div class="cc-section">
  <div class="cc-container" style="max-width: 960px;">
    <div class="cc-heading">
      <h1 class="cc-heading__title">{{ 'cart.title' | t }}</h1>
    </div>

    {% if cart.item_count > 0 %}
      <form action="/cart" method="post">
        <table class="cc-cart-table">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Precio</th>
              <th>Cantidad</th>
              <th>Total</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td>
                  <div class="cc-cart-item">
                    <div class="cc-cart-item__image">
                      {% if item.image %}
                        <img src="{{ item.image | image_url: width: 200 }}" alt="{{ item.title | escape }}" />
                      {% endif %}
                    </div>
                    <div>
                      <a href="{{ item.url }}" style="font-weight: 700; font-size: 0.875rem;">{{ item.product.title }}</a>
                      {% if item.variant.title != 'Default Title' %}
                        <p style="font-size: 0.75rem; color: var(--cc-text-dim); margin-top: 0.25rem;">{{ item.variant.title }}</p>
                      {% endif %}
                    </div>
                  </div>
                </td>
                <td style="font-weight: 600;">{{ item.price | money }}</td>
                <td>
                  <div class="cc-product__quantity">
                    <input
                      type="number"
                      name="updates[]"
                      value="{{ item.quantity }}"
                      min="0"
                      class="cc-product__quantity-input"
                      style="width: 3.5rem;"
                    />
                  </div>
                </td>
                <td style="font-weight: 700;">{{ item.line_price | money }}</td>
                <td>
                  <a href="/cart/change?line={{ forloop.index }}&quantity=0" style="color: var(--cc-text-dim); font-size: 0.75rem;">
                    {{ 'cart.remove' | t }}
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <div style="display: flex; justify-content: flex-end; align-items: center; gap: 2rem; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--cc-border);">
          <div style="text-align: right;">
            <p style="font-size: 0.75rem; color: var(--cc-text-dim); text-transform: uppercase; letter-spacing: 0.1em; font-weight: 700;">{{ 'cart.subtotal' | t }}</p>
            <p style="font-size: 2rem; font-weight: 900;">{{ cart.total_price | money }}</p>
          </div>
          <div style="display: flex; flex-direction: column; gap: 0.5rem;">
            <button type="submit" name="update" class="cc-btn cc-btn--ghost cc-btn--sm">Actualizar</button>
            <button type="submit" name="checkout" class="cc-btn cc-btn--primary cc-btn--lg">
              {{ 'cart.checkout' | t }}
            </button>
          </div>
        </div>
      </form>
    {% else %}
      <div style="text-align: center; padding: 4rem 0;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color: var(--cc-text-dim); margin: 0 auto 1.5rem;"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
        <p style="color: var(--cc-text-dim); font-size: 1.125rem; margin-bottom: 1.5rem;">{{ 'cart.empty' | t }}</p>
        <a href="/collections" class="cc-btn cc-btn--primary">
          {{ 'cart.continue_shopping' | t }}
        </a>
      </div>
    {% endif %}
  </div>
</div>
